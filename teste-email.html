<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Teste de Email - UAADA</title>
</head>

<body>
    <h1>Teste de Envio de Email</h1>
    <input type="email" id="email-teste" placeholder="Digite seu email">
    <button id="btn-teste-email">Enviar Email de Teste</button>

    <script>
        document.getElementById("btn-teste-email").addEventListener("click", async () => {
            const email = document.getElementById("email-teste").value.trim();
            if (!email) return alert("Digite um email v√°lido.");

            try {
                const resp = await fetch("/api/test-email", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ email })
                });
                const data = await resp.json();
                if (resp.ok) alert(data.message);
                else alert("Erro: " + data.error);
            } catch (err) {
                console.error(err);
                alert("Erro ao enviar email de teste.");
            }
        });
    </script>
</body>

</html>