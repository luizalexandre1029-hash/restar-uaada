<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Inscrição - RESTART</title>
    <link rel="stylesheet" href="public/inscricao.css" />
</head>

<body class="inscricao">
    <div class="form-container">
        <h1>Formulário de Inscrição</h1>
        <form id="form-inscricao">
            <input type="text" id="nome" name="nome" placeholder="Nome completo" required>
            <input type="text" id="contato" name="contato" placeholder="Contato (somente números)" required>
            <input type="email" id="email" name="email" placeholder="E-mail" required>
            <input type="text" id="cpf" name="cpf" placeholder="CPF (somente números)" required>
            <p id="mensagem"></p>
            <button type="button" id="btn-proximo">Próximo</button>
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const btn = document.getElementById('btn-proximo');
            const mensagem = document.querySelector("#mensagem");

            btn.addEventListener("click", () => {
                const nome = document.querySelector("#nome").value.trim();
                const contato = document.querySelector("#contato").value.trim();
                const email = document.querySelector("#email").value.trim();
                const cpf = document.querySelector("#cpf").value.trim();

                const nomeValido = nome.split(" ").length >= 2;
                const contatoValido = /^[0-9]{8,}$/.test(contato);
                const emailValido = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
                const cpfValido = /^[0-9]{11}$/.test(cpf);

                if (!nomeValido) { mensagem.textContent = "⚠️ Digite seu nome completo."; mensagem.style.color = "orange"; return; }
                if (!contatoValido) { mensagem.textContent = "⚠️ Digite um número de contato válido."; mensagem.style.color = "orange"; return; }
                if (!emailValido) { mensagem.textContent = "⚠️ Digite um e-mail válido."; mensagem.style.color = "orange"; return; }
                if (!cpfValido) { mensagem.textContent = "⚠️ Digite um CPF válido com 11 números."; mensagem.style.color = "orange"; return; }

                // salva localmente e abre página de pagamento em nova aba
                const formData = { nome, contato, email, cpf };
                localStorage.setItem('formData', JSON.stringify(formData));

                // abrir pagamento em nova aba
                window.open('pagamento.html', '_blank');
            });
        });
    </script>
</body>

</html>